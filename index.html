<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwiftDEX - Decentralized Exchange</title>
        <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="container nav-container">
            <a href="#" class="nav-brand">SwiftDEX</a>
            <div class="nav-menu">
                <a href="#" class="nav-link active" data-screen="swap">Swap</a>
                <a href="#" class="nav-link" data-screen="liquidity">Liquidity</a>
                <a href="#" class="nav-link" data-screen="pools">Pools</a>
            </div>
            <div class="nav-actions">
                <div class="network-badge" onclick="openNetworkModal()">
                    <span class="network-indicator"></span>
                    <span id="networkName"></span>
                    <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                        <path d="M3 5L6 8L9 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <button class="btn btn-ghost btn-sm" onclick="openSettings()">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor">
                        <circle cx="10" cy="10" r="3"/>
                        <path d="M10 1v6m0 6v6m9-9h-6m-6 0H1"/>
                    </svg>
                </button>
                <button class="btn btn-ghost btn-sm" onclick="toggleTheme()">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M10 2a8 8 0 108 8c0-.9-.15-1.77-.42-2.58a6 6 0 01-8.16-8.16A7.97 7.97 0 0010 2z"/>
                    </svg>
                </button>
                <button id="connectBtn" class="btn btn-primary btn-sm" onclick="openWalletModal()">
                    Connect Wallet
                </button>
            </div>
        </div>
    </nav>

    <!-- Landing Screen -->
    <div id="landing-screen" class="screen">
        <div class="container">
            <div class="hero">
                <h1>Trade Without Limits</h1>
                <p class="hero-subtitle">
                    The most trusted decentralized exchange with best-in-class liquidity
                </p>
                <button class="btn btn-primary btn-lg" onclick="openWalletModal()">
                    Connect Wallet to Start
                </button>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">$2.4B</div>
                    <div class="stat-label">Total Value Locked</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">147K</div>
                    <div class="stat-label">Active Users</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">0.01%</div>
                    <div class="stat-label">Lowest Fees</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">2,847</div>
                    <div class="stat-label">Token Pairs</div>
                </div>
            </div>
            
            <div class="feature-grid">
                <div class="feature-card card">
                    <div class="feature-icon">üöÄ</div>
                    <div class="feature-title">Instant Swaps</div>
                    <div class="feature-description">
                        Lightning-fast trades with minimal slippage and best price execution
                    </div>
                </div>
                <div class="feature-card card">
                    <div class="feature-icon">üíé</div>
                    <div class="feature-title">Deep Liquidity</div>
                    <div class="feature-description">
                        Access to multi-billion dollar liquidity pools for stable pricing
                    </div>
                </div>
                <div class="feature-card card">
                    <div class="feature-icon">üõ°Ô∏è</div>
                    <div class="feature-title">Secure & Audited</div>
                    <div class="feature-description">
                        Battle-tested smart contracts audited by leading security firms
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Swap Screen -->
    <div id="swap-screen" class="screen active">
        <div class="swap-container">
            <div class="swap-header">
                <h3>Swap</h3>
                <button class="btn btn-ghost btn-sm" onclick="openSettings()">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor">
                        <circle cx="10" cy="10" r="3"/>
                        <path d="M10 1v6m0 6v6m9-9h-6m-6 0H1"/>
                    </svg>
                </button>
            </div>
            
            <div class="card card-elevated">
                <div class="swap-input-group">
                    <div class="swap-input-header">
                        <span class="text-sm text-muted">You pay</span>
                        <span class="text-sm text-muted">Balance: 1,234.56</span>
                    </div>
                    <div class="swap-input-container">
                        <input id="tokenInAmount" type="text" class="swap-input-field" placeholder="0.0" value="100">
                        <button class="btn btn-ghost btn-sm">MAX</button>
                        <div id="tokenIn" class="token-select" data-address="eth" onclick="openTokenModal('from')">
                            <div class="token-icon"></div>
                            <span>AAA</span>
                            <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                                <path d="M3 5L6 8L9 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>
                    </div>
                </div>
                
                <div class="swap-arrow">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M7 10L12 15L17 10"/>
                    </svg>
                </div>
                
                <div class="swap-input-group">
                    <div class="swap-input-header">
                        <span class="text-sm text-muted">You receive</span>
                        <span class="text-sm text-muted">Balance: 567.89</span>
                    </div>
                    <div class="swap-input-container">
                        <input id="tokenOutAmount" type="text" class="swap-input-field" placeholder="0.0" value="2,847.32">
                        <div id="tokenOut" class="token-select" data-address="eth" onclick="openTokenModal('to')">
                            <div class="token-icon" style="background: linear-gradient(135deg, #F59E0B, #EF4444)"></div>
                            <span>BBB</span>
                            <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                                <path d="M3 5L6 8L9 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="price-info mt-3">
                    <div class="price-info-row">
                        <span class="price-info-label">Rate</span>
                        <span class="price-info-value" id="rate">
                            1 AAA = 28.47 BBB
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="cursor: pointer;">
                                <path d="M8 3v5l3 3m5-3a8 8 0 11-16 0 8 8 0 0116 0z" stroke="currentColor" fill="none"/>
                            </svg>
                        </span>
                    </div>
                    <div class="price-info-row">
                        <span class="price-info-label">Price Impact</span>
                        <span class="price-info-value"><span id="priceImpact" class="badge badge-success">0.00%</span></span>
                    </div>
                    <div class="price-info-row">
                        <span class="price-info-label">Fee</span>
                        <span class="price-info-value" id="fee">~$0.00</span>
                    </div>
                    <div class="price-info-row">
                        <span class="price-info-label">Min. Received</span>
                        <span class="price-info-value text-mono" id="minReceived">0</span>
                    </div>
                    <div class="price-info-row">
                        <span class="price-info-label">Slippage</span>
                        <span class="price-info-value" id="slippage">0.5%</span>
                    </div>
                    <div class="price-info-row">
                        <span class="price-info-label">Deadline</span>
                        <span class="price-info-value" id="deadline">20m</span>
                    </div>
                    <div class="price-info-row">
                        <span class="price-info-label">Route</span>
                        <span class="price-info-value text-sm">AAA ‚Üí USDC ‚Üí BBB</span>
                    </div>
                </div>
                <div class="slippage-options mt-2">
                    <button class="slippage-btn active">0.1%</button>
                    <button class="slippage-btn">0.5%</button>
                    <button class="slippage-btn">1%</button>
                </div>
                
                <button class="btn btn-primary btn-full btn-lg" onclick="executeSwap()">
                    Review Swap
                </button>
            </div>
        </div>
    </div>

    <!-- Liquidity Screen -->
    <div id="liquidity-screen" class="screen">
        <div class="swap-container">
            <div class="swap-header">
                <h3>Liquidity</h3>
            </div>
            
            <div class="pool-tabs">
                <button class="pool-tab active" onclick="switchPoolTab(this, 'add')">Add Liquidity</button>
                <button class="pool-tab" onclick="switchPoolTab(this, 'remove')">Remove Liquidity</button>
            </div>
            
            <div id="add-liquidity" class="card card-elevated">
                <div class="mb-3">
                    <label class="input-label">Select Pair</label>
                    <div class="flex gap-2">
                        <div id="tokenASelect" class="token-select" data-address="0x6B175474E89094C44Da98b954EedeAC495271d0F" style="flex: 1" onclick="openTokenModal('pool1')">
                            <div class="token-icon"></div>
                            <span>AAA</span>
                            <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                                <path d="M3 5L6 8L9 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <div id="tokenBSelect" class="token-select" data-address="0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606e48" style="flex: 1" onclick="openTokenModal('pool2')">
                            <div class="token-icon" style="background: linear-gradient(135deg, #F59E0B, #EF4444)"></div>
                            <span>BBB</span>
                            <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                                <path d="M3 5L6 8L9 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>
                    </div>
                </div>
                
                <div class="mb-3">
                    <label class="input-label">Fee Tier</label>
                    <div class="slippage-options">
                        <button class="slippage-btn">0.01%</button>
                        <button class="slippage-btn active">0.05%</button>
                        <button class="slippage-btn">0.30%</button>
                        <button class="slippage-btn">1.00%</button>
                    </div>
                    <span class="text-xs text-muted">Select based on pair volatility</span>
                </div>
                
                <div class="mb-3">
                    <div class="input-group">
                        <label class="input-label">AAA Amount</label>
                        <input id="tokenAAmount" type="text" class="input input-lg" placeholder="0.0" value="1000">
                    </div>
                </div>
                
                <div class="mb-3">
                    <div class="input-group">
                        <label class="input-label">BBB Amount</label>
                        <input id="tokenBAmount" type="text" class="input input-lg" placeholder="0.0" value="28,473.20">
                    </div>
                </div>
                
                <div class="price-info mb-3">
                    <div class="price-info-row">
                        <span class="price-info-label">Share of Pool</span>
                        <span id="poolShare" class="price-info-value">0.05%</span>
                    </div>
                    <div class="price-info-row">
                        <span class="price-info-label">AAA per BBB</span>
                        <span id="priceAB" class="price-info-value">0.0351</span>
                    </div>
                    <div class="price-info-row">
                        <span class="price-info-label">BBB per AAA</span>
                        <span id="priceBA" class="price-info-value">28.47</span>
                    </div>
                </div>
                
                <button id="addLiquidityBtn" class="btn btn-primary btn-full btn-lg">
                    Add Liquidity
                </button>
            </div>

            <div id="remove-liquidity" class="card card-elevated hidden">
                <div class="mb-3">
                    <label class="input-label">Amount to Remove</label>
                    <div id="removePercentOptions" class="slippage-options">
                        <button class="slippage-btn">25%</button>
                        <button class="slippage-btn active">50%</button>
                        <button class="slippage-btn">75%</button>
                        <button class="slippage-btn">100%</button>
                    </div>
                </div>
                
                <div class="price-info mb-3">
                    <div class="price-info-row">
                        <span class="price-info-label">Pooled AAA</span>
                        <span id="pooledTokenA" class="price-info-value">1,000 AAA</span>
                    </div>
                    <div class="price-info-row">
                        <span class="price-info-label">Pooled BBB</span>
                        <span id="pooledTokenB" class="price-info-value">28,473 BBB</span>
                    </div>
                    <div class="price-info-row">
                        <span class="price-info-label">Your pool share</span>
                        <span id="userPoolShare" class="price-info-value">0.05%</span>
                    </div>
                </div>
                
                <button id="removeLiquidityBtn" class="btn btn-primary btn-full btn-lg">
                    Remove Liquidity
                </button>
            </div>
        </div>
    </div>

    <!-- Pools Screen -->
    <div id="pools-screen" class="screen">
        <div class="container">
            <div class="mb-3 flex justify-between items-center">
                <h2>Liquidity Pools</h2>
                <input type="text" class="input" placeholder="Search pools..." style="max-width: 300px;">
            </div>
            
            <div class="card">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Pool</th>
                            <th>TVL</th>
                            <th>Volume 24h</th>
                            <th>Fees 24h</th>
                            <th>APR</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="flex items-center gap-2">
                                    <div class="flex">
                                        <div class="token-icon" style="width: 32px; height: 32px;"></div>
                                        <div class="token-icon" style="width: 32px; height: 32px; margin-left: -12px; background: linear-gradient(135deg, #F59E0B, #EF4444)"></div>
                                    </div>
                                    <div>
                                        <div class="font-medium">AAA/BBB</div>
                                        <div class="text-xs text-muted">0.05% fee</div>
                                    </div>
                                </div>
                            </td>
                            <td class="text-mono">$24.7M</td>
                            <td class="text-mono">$3.2M</td>
                            <td class="text-mono">$1,600</td>
                            <td><span class="badge badge-success">12.4%</span></td>
                            <td>
                                <button class="btn btn-sm btn-primary">Add</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="flex items-center gap-2">
                                    <div class="flex">
                                        <div class="token-icon" style="width: 32px; height: 32px; background: linear-gradient(135deg, #10B981, #3B82F6)"></div>
                                        <div class="token-icon" style="width: 32px; height: 32px; margin-left: -12px; background: linear-gradient(135deg, #8B5CF6, #EC4899)"></div>
                                    </div>
                                    <div>
                                        <div class="font-medium">USDC/ETH</div>
                                        <div class="text-xs text-muted">0.30% fee</div>
                                    </div>
                                </div>
                            </td>
                            <td class="text-mono">$142.3M</td>
                            <td class="text-mono">$18.7M</td>
                            <td class="text-mono">$56,100</td>
                            <td><span class="badge badge-success">8.7%</span></td>
                            <td>
                                <button class="btn btn-sm btn-primary">Add</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="flex items-center gap-2">
                                    <div class="flex">
                                        <div class="token-icon" style="width: 32px; height: 32px; background: linear-gradient(135deg, #F59E0B, #EF4444)"></div>
                                        <div class="token-icon" style="width: 32px; height: 32px; margin-left: -12px; background: linear-gradient(135deg, #10B981, #3B82F6)"></div>
                                    </div>
                                    <div>
                                        <div class="font-medium">BBB/USDC</div>
                                        <div class="text-xs text-muted">0.05% fee</div>
                                    </div>
                                </div>
                            </td>
                            <td class="text-mono">$8.4M</td>
                            <td class="text-mono">$967K</td>
                            <td class="text-mono">$483</td>
                            <td><span class="badge badge-warning">5.2%</span></td>
                            <td>
                                <button class="btn btn-sm btn-primary">Add</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Token Selector Modal -->
    <div id="tokenModal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h4>Select Token</h4>
                <button class="btn btn-ghost btn-sm" onclick="closeModal('tokenModal')">‚úï</button>
            </div>
            <div class="modal-body">
                <input type="text" class="input w-full mb-3" placeholder="Search name or paste address">
                
                <div class="mb-3">
                    <div class="text-sm text-muted mb-2">Popular tokens</div>
                    <div class="flex gap-2">
                        <button class="btn btn-secondary btn-sm">ETH</button>
                        <button class="btn btn-secondary btn-sm">USDC</button>
                        <button class="btn btn-secondary btn-sm">AAA</button>
                        <button class="btn btn-secondary btn-sm">BBB</button>
                    </div>
                </div>
                
                <div class="token-list">
                    <div class="token-item" data-token="AAA">
                        <div class="flex items-center justify-between token-row">
                            <div class="flex items-center gap-2">
                                <div class="token-icon"></div>
                                <div>
                                    <div>AAA</div>
                                    <div class="text-xs text-muted">AAA Token</div>
                                </div>
                            </div>
                            <div class="text-mono">1,234.56</div>
                        </div>
                    </div>
                    <div class="token-item" data-token="BBB">
                        <div class="flex items-center justify-between token-row">
                            <div class="flex items-center gap-2">
                                <div class="token-icon" style="background: linear-gradient(135deg, #F59E0B, #EF4444)"></div>
                                <div>
                                    <div>BBB</div>
                                    <div class="text-xs text-muted">BBB Token</div>
                                </div>
                            </div>
                            <div class="text-mono">567.89</div>
                        </div>
                    </div>
                    <div class="token-item" data-token="USDC">
                        <div class="flex items-center justify-between token-row">
                            <div class="flex items-center gap-2">
                                <div class="token-icon" style="background: linear-gradient(135deg, #10B981, #3B82F6)"></div>
                                <div>
                                    <div class="flex items-center gap-1">
                                        USDC
                                        <span class="badge badge-warning">‚ö†Ô∏è</span>
                                    </div>
                                    <div class="text-xs text-muted">USD Coin</div>
                                </div>
                            </div>
                            <div class="text-mono">10,000.00</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Wallet Connect Modal -->
    <div id="walletModal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h4>Connect Wallet</h4>
                <button class="btn btn-ghost btn-sm" onclick="closeModal('walletModal')">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="flex flex-col gap-2">
                    <button class="btn btn-secondary btn-full" onclick="connectWallet('metamask')">
                        <span>ü¶ä</span> MetaMask
                    </button>
                    <button class="btn btn-secondary btn-full" onclick="connectWallet('walletconnect')">
                        <span>üîó</span> WalletConnect
                    </button>
                    <button class="btn btn-secondary btn-full" onclick="connectWallet('coinbase')">
                        <span>üîµ</span> Coinbase Wallet
                    </button>
                    <button class="btn btn-secondary btn-full" onclick="connectWallet('rainbow')">
                        <span>üåà</span> Rainbow
                    </button>
                </div>
                
                <div class="mt-3 text-center text-sm text-muted">
                    By connecting, you agree to our Terms of Service
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h4>Settings</h4>
                <button class="btn btn-ghost btn-sm" onclick="closeModal('settingsModal')">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="settings-panel">
                    <div class="settings-group">
                        <div class="settings-label">
                            Slippage Tolerance
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="opacity: 0.5">
                                <path d="M8 0a8 8 0 100 16A8 8 0 008 0zm1 12H7v-2h2v2zm0-3H7V4h2v5z"/>
                            </svg>
                        </div>
                        <div class="slippage-options">
                            <button class="slippage-btn active">Auto</button>
                            <button class="slippage-btn">0.1%</button>
                            <button class="slippage-btn">0.5%</button>
                            <button class="slippage-btn">1.0%</button>
                        </div>
                        <input type="text" class="input" placeholder="Custom %" />
                    </div>
                    
                    <div class="settings-group">
                        <div class="settings-label">
                            Transaction Deadline
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="opacity: 0.5">
                                <path d="M8 0a8 8 0 100 16A8 8 0 008 0zm1 12H7v-2h2v2zm0-3H7V4h2v5z"/>
                            </svg>
                        </div>
                        <div class="flex items-center gap-2">
                            <input id="txDeadline" type="text" class="input" value="30" style="width: 100px;">
                            <span class="text-muted">minutes</span>
                        </div>
                    </div>
                    
                    <div class="settings-group">
                        <div class="settings-label">Interface</div>
                        <div class="flex flex-col gap-2">
                            <label class="flex items-center gap-2">
                                <input type="checkbox" checked>
                                <span>Expert mode</span>
                            </label>
                            <label class="flex items-center gap-2">
                                <input type="checkbox">
                                <span>Disable multihops</span>
                            </label>
                            <label class="flex items-center gap-2">
                                <input type="checkbox" checked>
                                <span>Sound effects</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Network Selector Modal -->
    <div id="networkModal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h4>Select Network</h4>
                <button class="btn btn-ghost btn-sm" onclick="closeModal('networkModal')">‚úï</button>
            </div>
            <div class="modal-body">
                <div id="networkList" class="flex flex-col gap-2"></div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

        <script src="./networkConfig.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js"></script>
        <script src="./app.js"></script>
</body>
</html>
